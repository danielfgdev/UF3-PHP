1731293119
0cc1308022480e537afa03931d99722c-phpdoc%3A0d487fea540f1ee8b6bbea2bdb78dc46-42f721e543c7985413b260d8d0b5880c
s:16508:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjY6IjEwLnBocCI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YTowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBoYXNoIjtzOjMyOiI0MmY3MjFlNTQzYzc5ODU0MTNiMjYwZDhkMGI1ODgwYyI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjY6IjEwLnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6MTE1MDI6IjwhRE9DVFlQRSBodG1sPg0KPGh0bWwgbGFuZz0iZXMiPg0KDQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDx0aXRsZT5JIHdhbnQgbXkgMTA8L3RpdGxlPg0KICAgIDxzdHlsZT4NCiAgICAgICAgYm9keSB7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBFc3RpbG8gZGVsIHZpZGVvIGRlIFlvdVR1YmUgcGFyYSBvY3VwYXIgdG9kYSBsYSBwYW50YWxsYSAqLw0KICAgICAgICAjdmlkZW8tYmFja2dyb3VuZCB7DQogICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgdG9wOiAwOw0KICAgICAgICAgICAgbGVmdDogMDsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgei1pbmRleDogLTE7DQogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0bzsNCiAgICAgICAgICAgIC8qIEV2aXRhciBxdWUgZWwgdmlkZW8gY2FwdHVyZSBjbGljcyAqLw0KICAgICAgICB9DQoNCiAgICAgICAgLm1lbnNhamUgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgZm9udC1zaXplOiA4MHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICB6LWluZGV4OiAxOw0KICAgICAgICAgICAgLyogRW5jaW1hIGRlIHRvZG8gKi8NCiAgICAgICAgfQ0KDQogICAgICAgIC5jb3VudGRvd24gew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgdG9wOiA1MCU7DQogICAgICAgICAgICBsZWZ0OiA1MCU7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTUwcHg7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICB6LWluZGV4OiAxOw0KICAgICAgICAgICAgLyogRW5jaW1hIGRlIHRvZG8gKi8NCiAgICAgICAgfQ0KDQogICAgICAgIC8qIE51ZXZvIHRleHRvIHBhcmEgbGEgY3VlbnRhIGF0csOhcyAqLw0KICAgICAgICAjdGV4dG8tY3VlbnRhLWF0cmFzIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMzUlOw0KICAgICAgICAgICAgLyogVW4gcG9jbyBhcnJpYmEgZGUgbGEgY3VlbnRhIGF0csOhcyAqLw0KICAgICAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7DQogICAgICAgICAgICBmb250LXNpemU6IDgwcHg7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICB6LWluZGV4OiAxOw0KICAgICAgICAgICAgLyogRW5jaW1hIGRlIHRvZG8gKi8NCiAgICAgICAgfQ0KDQogICAgICAgICNjb250ZW5lZG9yIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBFc3RpbG8gZGUgbGFzIGltw6FnZW5lcyBkZSBnYXRpdG9zICovDQogICAgICAgIC5nYXRpdG8gew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgbWF4LXdpZHRoOiAzMHZ3Ow0KICAgICAgICAgICAgLyogQWp1c3RhciBlbCB0YW1hw7FvIGEgdW4gMzAlIGRlbCBhbmNobyBkZSBsYSB2ZW50YW5hICovDQogICAgICAgICAgICBtYXgtaGVpZ2h0OiAzMHZoOw0KICAgICAgICAgICAgLyogQWp1c3RhciBlbCB0YW1hw7FvIGEgdW4gMzAlIGRlIGxhIGFsdHVyYSBkZSBsYSB2ZW50YW5hICovDQogICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICAgICAgLyogT2N1bHRhciBpbmljaWFsbWVudGUgKi8NCiAgICAgICAgICAgIHotaW5kZXg6IDA7DQogICAgICAgICAgICAvKiBEZXRyw6FzIGRlIGxvcyBtZW5zYWplcyAqLw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCg0KPGJvZHk+DQoNCiAgICA8IS0tIE51ZXZvIHRleHRvIHBhcmEgbGEgY3VlbnRhIGF0csOhcyAtLT4NCiAgICA8ZGl2IGlkPSJ0ZXh0by1jdWVudGEtYXRyYXMiPkN1ZW50YSBhdHJhcyBlcGljYSB4RCB4RDwvZGl2Pg0KDQogICAgPCEtLSBDb250ZW5lZG9yIGRlIGxhIGN1ZW50YSBhdHLDoXMgLS0+DQogICAgPGRpdiBpZD0iY291bnRkb3duIiBjbGFzcz0iY291bnRkb3duIj4xMDwvZGl2Pg0KDQogICAgPCEtLSBDb250ZW5lZG9yIGRlIGxvcyBtZW5zYWplcyAtLT4NCiAgICA8ZGl2IGlkPSJjb250ZW5lZG9yIj4NCiAgICAgICAgPD9waHAgZm9yICgkaSA9IDA7ICRpIDwgNTsgJGkrKykgOiA/Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWVuc2FqZSIgaWQ9Im1lbnNhamUtPD9waHAgZWNobyAkaTsgPz4iPlJpY2FyZGl0byBtZSBtZXJlemNvIHVuIGRpZWNpdG88L2Rpdj4NCiAgICAgICAgPD9waHAgZW5kZm9yOyA/Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBWaWRlbyBkZSBZb3VUdWJlIGVtYmViaWRvIC0tPg0KICAgIDxkaXYgaWQ9InZpZGVvLWJhY2tncm91bmQiPjwvZGl2Pg0KDQogICAgPCEtLSBDb250ZW5lZG9yIGRlIGltw6FnZW5lcyBkZSBnYXRpdG9zIC0tPg0KICAgIDxkaXYgaWQ9ImdhdGl0b3MtY29udGFpbmVyIj48L2Rpdj4NCg0KICAgIDxzY3JpcHQ+DQogICAgICAgIGxldCBjb3VudGRvd25WYWx1ZSA9IDEwOw0KICAgICAgICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50ZG93bicpOw0KICAgICAgICBjb25zdCB0ZXh0b0N1ZW50YUF0cmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHRvLWN1ZW50YS1hdHJhcycpOw0KICAgICAgICBjb25zdCBjb250ZW5lZG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbmVkb3InKTsNCiAgICAgICAgY29uc3QgZ2F0aXRvc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXRpdG9zLWNvbnRhaW5lcicpOw0KDQogICAgICAgIGxldCBwbGF5ZXI7DQogICAgICAgIGxldCBpc1BsYXllclJlYWR5ID0gZmFsc2U7IC8vIFZhcmlhYmxlIHBhcmEgdmVyaWZpY2FyIHNpIGVsIHJlcHJvZHVjdG9yIGVzdMOhIGxpc3RvDQoNCiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBvYnRlbmVyIGltw6FnZW5lcyBkZSBnYXRvcw0KICAgICAgICBhc3luYyBmdW5jdGlvbiBmZXRjaEdhdGl0b3MoKSB7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS50aGVjYXRhcGkuY29tL3YxL2ltYWdlcy9zZWFyY2g/bGltaXQ9MzAnKTsgLy8gT2J0ZW5lciAzMCBpbcOhZ2VuZXMNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgICAgICAgICByZXR1cm4gZGF0YS5tYXAoY2F0ID0+IGNhdC51cmwpOyAvLyBSZXRvcm5hciBsYXMgVVJMcyBkZSBsYXMgaW3DoWdlbmVzDQogICAgICAgIH0NCg0KICAgICAgICAvLyBGdW5jacOzbiBkZSBjdWVudGEgYXRyw6FzDQogICAgICAgIGZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duKCkgew0KICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgICAgICAgICAgY291bnRkb3duVmFsdWUtLTsNCiAgICAgICAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gY291bnRkb3duVmFsdWU7DQoNCiAgICAgICAgICAgICAgICBpZiAoY291bnRkb3duVmFsdWUgPD0gMCkgew0KICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsNCiAgICAgICAgICAgICAgICAgICAgY291bnRkb3duRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyBPY3VsdGFyIGxhIGN1ZW50YSBhdHLDoXMNCiAgICAgICAgICAgICAgICAgICAgdGV4dG9DdWVudGFBdHJhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyBPY3VsdGFyIGVsIHRleHRvIGRlIGxhIGN1ZW50YSBhdHLDoXMNCiAgICAgICAgICAgICAgICAgICAgY29udGVuZWRvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gTW9zdHJhciBsb3MgbWVuc2FqZXMNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLWJhY2tncm91bmQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gTW9zdHJhciBlbCB2aWRlbw0KDQogICAgICAgICAgICAgICAgICAgIC8vIFJlcHJvZHVjaXIgZWwgdmlkZW8gc29sbyBzaSBlbCByZXByb2R1Y3RvciBlc3TDoSBsaXN0bw0KICAgICAgICAgICAgICAgICAgICBpZiAoaXNQbGF5ZXJSZWFkeSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpOyAvLyBSZXByb2R1Y2lyIGVsIHZpZGVvIGRlIFlvdVR1YmUNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVsIHJlcHJvZHVjdG9yIGRlIFlvdVR1YmUgbm8gZXN0w6EgbGlzdG8uIik7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBzdGFydE1lc3NhZ2VBbmltYXRpb24oKTsgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuIGRlIGxvcyBtZW5zYWplcw0KICAgICAgICAgICAgICAgICAgICBzdGFydEdhdGl0b0FuaW1hdGlvbigpOyAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gZGUgbG9zIGdhdGl0b3MNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCAxMDAwKTsgLy8gQ2FkYSBzZWd1bmRvDQogICAgICAgIH0NCg0KICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGluaWNpYXIgbGEgYW5pbWFjacOzbiBkZSBsb3MgZ2F0aXRvcw0KICAgICAgICBhc3luYyBmdW5jdGlvbiBzdGFydEdhdGl0b0FuaW1hdGlvbigpIHsNCiAgICAgICAgICAgIGNvbnN0IGdhdGl0b3MgPSBhd2FpdCBmZXRjaEdhdGl0b3MoKTsgLy8gT2J0ZW5lciBpbcOhZ2VuZXMgZGUgZ2F0b3MNCg0KICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZ2F0aXRvcy5sZW5ndGgpOyAvLyBFbGVnaXIgdW4gZ2F0aXRvIGFsZWF0b3Jpbw0KICAgICAgICAgICAgICAgIGNvbnN0IGdhdGl0b0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsgLy8gQ3JlYXIgdW4gbnVldm8gZWxlbWVudG8gaW1nDQogICAgICAgICAgICAgICAgZ2F0aXRvRWxlbWVudC5zcmMgPSBnYXRpdG9zW3JhbmRvbUluZGV4XTsgLy8gRXN0YWJsZWNlciBsYSBpbWFnZW4gZGVsIGdhdGl0bw0KICAgICAgICAgICAgICAgIGdhdGl0b0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ2F0aXRvJyk7IC8vIEHDsWFkaXIgbGEgY2xhc2UgZ2F0aXRvDQogICAgICAgICAgICAgICAgZ2F0aXRvRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gTW9zdHJhciBlbCBnYXRpdG8NCg0KICAgICAgICAgICAgICAgIC8vIE9idGVuZXIgZWwgYW5jaG8geSBhbHRvIGRlIGxhIGltYWdlbiBjYXJnYWRhDQogICAgICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7DQogICAgICAgICAgICAgICAgaW1nLnNyYyA9IGdhdGl0b3NbcmFuZG9tSW5kZXhdOw0KICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nV2lkdGggPSBpbWcud2lkdGggKiAoMzAgLyAxMDApOyAvLyBBanVzdGFyIGVsIHRhbWHDsW8gYWwgMzAlDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0hlaWdodCA9IGltZy5oZWlnaHQgKiAoMzAgLyAxMDApOyAvLyBBanVzdGFyIGVsIHRhbWHDsW8gYWwgMzAlDQoNCiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXIgcG9zaWNpw7NuIGFsZWF0b3JpYSBkZW50cm8gZGUgbG9zIGzDrW1pdGVzIGRlIGxhIHZlbnRhbmENCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VG9wID0gd2luZG93LmlubmVySGVpZ2h0IC0gaW1nSGVpZ2h0OyAvLyBBbHR1cmEgbcOheGltYQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhMZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLSBpbWdXaWR0aDsgLy8gQW5jaG8gbcOheGltbw0KICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5kb21Ub3AgPSBNYXRoLnJhbmRvbSgpICogbWF4VG9wOyAvLyBQb3NpY2nDs24gYWxlYXRvcmlhIGVuIFkNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tTGVmdCA9IE1hdGgucmFuZG9tKCkgKiBtYXhMZWZ0OyAvLyBQb3NpY2nDs24gYWxlYXRvcmlhIGVuIFgNCg0KICAgICAgICAgICAgICAgICAgICBnYXRpdG9FbGVtZW50LnN0eWxlLnRvcCA9IHJhbmRvbVRvcCArICdweCc7DQogICAgICAgICAgICAgICAgICAgIGdhdGl0b0VsZW1lbnQuc3R5bGUubGVmdCA9IHJhbmRvbUxlZnQgKyAncHgnOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIEFncmVnYXIgZWwgZ2F0aXRvIGFsIGNvbnRlbmVkb3INCiAgICAgICAgICAgICAgICAgICAgZ2F0aXRvc0NvbnRhaW5lci5hcHBlbmRDaGlsZChnYXRpdG9FbGVtZW50KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLyBPY3VsdGFyIGVsIGdhdGl0byBkZXNwdcOpcyBkZSA1IHNlZ3VuZG9zIHkgZWxpbWluYXJsbyBkZWwgRE9NDQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZ2F0aXRvc0NvbnRhaW5lci5yZW1vdmVDaGlsZChnYXRpdG9FbGVtZW50KTsgLy8gUmVtb3ZlciBlbCBnYXRpdG8NCiAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7IC8vIDUgc2VndW5kb3MNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICB9LCA1MDAwKTsgLy8gQ2FtYmlhciBnYXRpdG8gY2FkYSA1IHNlZ3VuZG9zDQogICAgICAgIH0NCg0KICAgICAgICAvLyBGdW5jacOzbiBwYXJhIG9idGVuZXIgdW4gY29sb3IgYWxlYXRvcmlvDQogICAgICAgIGZ1bmN0aW9uIGdldFJhbmRvbUNvbG9yKCkgew0KICAgICAgICAgICAgY29uc3QgbGV0dGVycyA9ICcwMTIzNDU2Nzg5QUJDREVGJzsNCiAgICAgICAgICAgIGxldCBjb2xvciA9ICcjJzsNCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7DQogICAgICAgICAgICAgICAgY29sb3IgKz0gbGV0dGVyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNildOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGNvbG9yOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZ2V0UmFuZG9tVmVsb2NpdHkoKSB7DQogICAgICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkgKiAyICsgMSkgKiAoTWF0aC5yYW5kb20oKSA+IDAuNSA/IDEgOiAtMSk7IC8vIFZlbG9jaWRhZCBlbnRyZSAtMyB5IDMNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgaW5pY2lhciBsYSBhbmltYWNpw7NuIGRlIGxvcyBtZW5zYWplcw0KICAgICAgICBmdW5jdGlvbiBzdGFydE1lc3NhZ2VBbmltYXRpb24oKSB7DQogICAgICAgICAgICBjb25zdCBtZW5zYWplcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW5zYWplJyk7DQogICAgICAgICAgICBjb25zdCBoZWlnaHRzID0gWw0KICAgICAgICAgICAgICAgIDAuMSwgLy8gMTAlIGRlIGxhIGFsdHVyYSBkZSBsYSB2ZW50YW5hDQogICAgICAgICAgICAgICAgMC4zLCAvLyAzMCUNCiAgICAgICAgICAgICAgICAwLjUsIC8vIDUwJQ0KICAgICAgICAgICAgICAgIDAuNywgLy8gNzAlDQogICAgICAgICAgICAgICAgMC45IC8vIDkwJQ0KICAgICAgICAgICAgXTsNCg0KICAgICAgICAgICAgLy8gQXNpZ25hciBwb3NpY2lvbmVzDQogICAgICAgICAgICBtZW5zYWplcy5mb3JFYWNoKChtZW5zYWplLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodEluZGV4ID0gTWF0aC5mbG9vcihpbmRleCk7IC8vIExhIGFsdHVyYSBzZSBhc2lnbmEgZGlyZWN0YW1lbnRlIHNlZ8O6biBlbCDDrW5kaWNlDQogICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb25ZID0gKHdpbmRvdy5pbm5lckhlaWdodCAqIGhlaWdodHNbaGVpZ2h0SW5kZXhdKSAtIG1lbnNhamUuY2xpZW50SGVpZ2h0IC8gMiArICdweCc7IC8vIENlbnRyYXIgdmVydGljYWxtZW50ZQ0KDQogICAgICAgICAgICAgICAgbWVuc2FqZS5zdHlsZS50b3AgPSBwb3NpdGlvblk7IC8vIEFzaWduYXIgYWx0dXJhDQoNCiAgICAgICAgICAgICAgICAvLyBBbHRlcm5hciBlbnRyZSBpenF1aWVyZGEgeSBkZXJlY2hhDQogICAgICAgICAgICAgICAgY29uc3QgaXNMZWZ0ID0gaW5kZXggJSAyID09PSAwOw0KICAgICAgICAgICAgICAgIG1lbnNhamUuc3R5bGUubGVmdCA9IGlzTGVmdCA/IC1tZW5zYWplLmNsaWVudFdpZHRoICsgJ3B4JyA6IHdpbmRvdy5pbm5lcldpZHRoICsgJ3B4JzsgLy8gSXpxdWllcmRhIG8gZGVyZWNoYQ0KDQogICAgICAgICAgICAgICAgLy8gRXN0YWJsZWNlciBlbCBjb2xvciBhbGVhdG9yaW8gYWwgaW5pY2lvDQogICAgICAgICAgICAgICAgbWVuc2FqZS5zdHlsZS5jb2xvciA9IGdldFJhbmRvbUNvbG9yKCk7DQoNCiAgICAgICAgICAgICAgICAvLyBWZWxvY2lkYWQgZGUgbW92aW1pZW50bw0KICAgICAgICAgICAgICAgIGNvbnN0IHZlbG9jaXR5ID0gZ2V0UmFuZG9tVmVsb2NpdHkoKTsgLy8gU2kgZXMgZGUgaXpxdWllcmRhIGEgZGVyZWNoYSwgbGEgdmVsb2NpZGFkIGVzIHBvc2l0aXZhLCB5IHZpY2V2ZXJzYQ0KDQogICAgICAgICAgICAgICAgLy8gRnVuY2nDs24gZGUgbW92aW1pZW50bw0KICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVNZXNzYWdlID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0UG9zaXRpb24gPSBwYXJzZUZsb2F0KG1lbnNhamUuc3R5bGUubGVmdCk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gQ2FtYmlhciBkaXJlY2Npw7NuIHNpIGxsZWdhIGFsIGJvcmRlDQogICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0UG9zaXRpb24gPiB3aW5kb3cuaW5uZXJXaWR0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVuc2FqZS5zdHlsZS5sZWZ0ID0gLW1lbnNhamUuY2xpZW50V2lkdGggKyAncHgnOyAvLyBSZWluaWNpYXIgcG9zaWNpw7NuIGEgbGEgaXpxdWllcmRhDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFBvc2l0aW9uIDwgLW1lbnNhamUuY2xpZW50V2lkdGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnNhamUuc3R5bGUubGVmdCA9IHdpbmRvdy5pbm5lcldpZHRoICsgJ3B4JzsgLy8gUmVpbmljaWFyIHBvc2ljacOzbiBhIGxhIGRlcmVjaGENCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnNhamUuc3R5bGUubGVmdCA9IGxlZnRQb3NpdGlvbiArIHZlbG9jaXR5ICsgJ3B4JzsgLy8gTW92ZXIgZWwgbWVuc2FqZQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1vdmVNZXNzYWdlKTsgLy8gVm9sdmVyIGEgbGxhbWFyIGEgbGEgZnVuY2nDs24NCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgbW92ZU1lc3NhZ2UoKTsgLy8gSW5pY2lhciBtb3ZpbWllbnRvIGRlbCBtZW5zYWplDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8gQ2FtYmlhciBjb2xvciBkZSBsb3MgbWVuc2FqZXMgY2FkYSAyIHNlZ3VuZG9zDQogICAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgICAgICAgICAgbWVuc2FqZXMuZm9yRWFjaChtZW5zYWplID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbWVuc2FqZS5zdHlsZS5jb2xvciA9IGdldFJhbmRvbUNvbG9yKCk7IC8vIENhbWJpYXIgZWwgY29sb3IgYSB1bm8gbnVldm8NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sIDIwMDApOyAvLyBDYW1iaWFyIGNhZGEgMiBzZWd1bmRvcw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBpbmljaWFsaXphciBlbCByZXByb2R1Y3RvciBkZSBZb3VUdWJlDQogICAgICAgIGZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkgew0KICAgICAgICAgICAgcGxheWVyID0gbmV3IFlULlBsYXllcigndmlkZW8tYmFja2dyb3VuZCcsIHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJywNCiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLA0KICAgICAgICAgICAgICAgIHZpZGVvSWQ6ICdhbTFfSkxGREZNdycsIC8vIElEIGRlbCB2aWRlbw0KICAgICAgICAgICAgICAgIHBsYXllclZhcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgJ2F1dG9wbGF5JzogMCwgLy8gTm8gcmVwcm9kdWNpciBhdXRvbcOhdGljYW1lbnRlIGFsIGNhcmdhcg0KICAgICAgICAgICAgICAgICAgICAnY29udHJvbHMnOiAxLA0KICAgICAgICAgICAgICAgICAgICAnc2hvd2luZm8nOiAwLA0KICAgICAgICAgICAgICAgICAgICAnbW9kZXN0YnJhbmRpbmcnOiAxLA0KICAgICAgICAgICAgICAgICAgICAnbG9vcCc6IDEsDQogICAgICAgICAgICAgICAgICAgICdwbGF5bGlzdCc6ICdhbTFfSkxGREZNdycsIC8vIFBhcmEgcXVlIHNlIHJlcGl0YQ0KICAgICAgICAgICAgICAgICAgICAnZnMnOiAwLA0KICAgICAgICAgICAgICAgICAgICAnY2NfbG9hZF9wb2xpY3knOiAwLA0KICAgICAgICAgICAgICAgICAgICAnaXZfbG9hZF9wb2xpY3knOiAzLA0KICAgICAgICAgICAgICAgICAgICAnZGlzYWJsZWtiJzogMSwNCiAgICAgICAgICAgICAgICAgICAgJ3JlbCc6IDAsDQogICAgICAgICAgICAgICAgICAgICdzdGFydCc6IDIwLCAvLyBJbmljaWFyIGVsIHZpZGVvIGVuIGVsIHNlZ3VuZG8gMjANCiAgICAgICAgICAgICAgICAgICAgJ211dGUnOiAxIC8vIFNpbGVuY2lhciBlbCB2aWRlbw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZXZlbnRzOiB7DQogICAgICAgICAgICAgICAgICAgICdvblJlYWR5JzogZnVuY3Rpb24oZXZlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxheWVyUmVhZHkgPSB0cnVlOyAvLyBNYXJjYXIgZWwgcmVwcm9kdWN0b3IgY29tbyBsaXN0bw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBJbmljaWFyIGxhIGN1ZW50YSBhdHLDoXMNCiAgICAgICAgc3RhcnRDb3VudGRvd24oKTsNCiAgICA8L3NjcmlwdD4NCg0KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpIj48L3NjcmlwdD4NCjwvYm9keT4NCg0KPC9odG1sPiI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";